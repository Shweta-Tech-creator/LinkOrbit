<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LinkedIn — Sweta Kadam</title>
  <style>
    :root {
      --bg: #f3f6f8;
      --card: #fff;
      --muted: #6b7280;
      --accent: #0a66c2;
      /* LinkedIn blue */
      --glass: rgba(10, 102, 194, 0.08);
      --radius: 10px;
      --max-width: 1100px;
    }

    * {
      box-sizing: border-box
    }

    body {
      margin: 0;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: var(--bg);
      color: #0f172a;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Layout */
    .wrap {
      max-width: var(--max-width);
      margin: 28px auto;
      padding: 0 16px;
    }

    .grid {
      display: grid;
      grid-template-columns: 320px 1fr 300px;
      gap: 20px;
      align-items: start;
    }

    @media (max-width:1020px) {
      .grid {
        grid-template-columns: 1fr;
        padding-bottom: 40px
      }

      .right-col {
        order: 3
      }
    }

    /* Left profile card */
    .profile-card {
      background: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: 0 6px 18px rgba(12, 20, 40, 0.06);
    }

    .profile-cover {
      height: 96px;
      background: linear-gradient(90deg, #dbeafe, #e6f0ff);
      display: flex;
      align-items: flex-end;
      padding: 12px;
    }

    .avatar {
      width: 96px;
      height: 96px;
      border-radius: 50%;
      border: 4px solid var(--card);
      transform: translateY(32px);
      margin-left: 12px;
      object-fit: cover;
      box-shadow: 0 6px 18px rgba(12, 20, 40, 0.06);
    }

    .profile-body {
      padding: 52px 16px 16px;
    }

    .name {
      font-size: 18px;
      font-weight: 700;
      margin: 0
    }

    .title {
      font-size: 13px;
      color: var(--muted);
      margin-top: 6px
    }

    .meta {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px
    }

    .meta .pill {
      background: var(--glass);
      color: var(--accent);
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 13px
    }

    .connect-btn {
      margin-top: 12px;
      display: inline-block;
      padding: 8px 14px;
      border-radius: 8px;
      background: var(--accent);
      color: white;
      border: none;
      cursor: pointer;
      font-weight: 600;
    }

    /* Main content */
    .main-col {
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .headline {
      background: var(--card);
      border-radius: var(--radius);
      padding: 18px;
      box-shadow: 0 6px 18px rgba(12, 20, 40, 0.04);
    }

    .headline h1 {
      margin: 0;
      font-size: 20px
    }

    .headline p {
      margin: 8px 0 0;
      color: var(--muted);
      font-size: 14px
    }

    /* Post composer */
    .composer {
      background: var(--card);
      border-radius: var(--radius);
      padding: 12px;
      display: flex;
      gap: 12px;
      align-items: flex-start;
      box-shadow: 0 6px 18px rgba(12, 20, 40, 0.04);
    }

    .composer img {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      object-fit: cover
    }

    .composer .input {
      flex: 1;
    }

    .composer textarea {
      width: 100%;
      min-height: 44px;
      border-radius: 8px;
      border: 1px solid #e6eefc;
      padding: 10px;
      resize: vertical;
      font-size: 14px;
      font-family: inherit;
    }

    .composer .controls {
      display: flex;
      gap: 8px;
      justify-content: flex-end;
      margin-top: 8px
    }

    .btn {
      background: var(--accent);
      color: white;
      padding: 8px 12px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      font-weight: 600
    }

    /* Feed */
    .feed {
      display: flex;
      flex-direction: column;
      gap: 14px
    }

    .post {
      background: var(--card);
      border-radius: 12px;
      padding: 14px;
      box-shadow: 0 6px 16px rgba(12, 20, 40, 0.04);
      overflow: hidden;
    }

    .post-header {
      display: flex;
      gap: 12px;
      align-items: center
    }

    .post-header img {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      object-fit: cover
    }

    .post-meta {
      flex: 1
    }

    .post-meta .who {
      font-weight: 700
    }

    .post-meta .when {
      color: var(--muted);
      font-size: 13px;
      margin-top: 4px
    }

    .post-body {
      margin-top: 12px;
      color: #111827;
      font-size: 15px;
      line-height: 1.45
    }

    .post-media {
      margin-top: 12px;
      border-radius: 8px;
      overflow: hidden;
      background: #eee
    }

    .post-media img {
      width: 100%;
      height: 220px;
      object-fit: cover;
      display: block
    }

    .post-actions {
      display: flex;
      gap: 8px;
      align-items: center;
      margin-top: 12px;
      border-top: 1px solid #eef2f7;
      padding-top: 10px
    }

    .action {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--muted);
      cursor: pointer;
      padding: 8px 12px;
      border-radius: 8px
    }

    .action:hover {
      background: #f3f8ff;
      color: var(--accent)
    }

    /* Right column (trending / suggestions) */
    .right-col {
      position: relative;
    }

    .card {
      background: var(--card);
      border-radius: var(--radius);
      padding: 14px;
      box-shadow: 0 6px 18px rgba(12, 20, 40, 0.04)
    }

    .trending h3 {
      margin: 0 0 10px 0;
      font-size: 15px
    }

    .hashtag {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #eef2f7;
      margin-bottom: 8px
    }

    .hashtag strong {
      color: var(--accent)
    }

    .suggest {
      margin-top: 12px
    }

    .suggest .item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px;
      border-radius: 8px;
      margin-bottom: 8px
    }

    .suggest img {
      width: 40px;
      height: 40px;
      border-radius: 6px;
      object-fit: cover
    }

    .small {
      font-size: 13px;
      color: var(--muted)
    }

    /* small screens adjustments */
    @media (max-width:640px) {
      .post-media img {
        height: 160px
      }

      .avatar {
        transform: translateY(20px);
        width: 80px;
        height: 80px
      }

      .profile-body {
        padding-top: 44px
      }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="grid">
      <!-- Left profile card -->
      <aside class="profile-card">
        <div class="profile-cover"></div>
        <img class="avatar"
          src="https://images.unsplash.com/photo-1545996124-ff6094b1f1b0?q=80&w=800&auto=format&fit=crop"
          alt="Sweta Kadam">
        <div class="profile-body">
          <p class="name">Sweta Kadam</p>
          <p class="title">Senior Frontend Engineer • JavaScript • React • UI/UX</p>
          <div class="meta">
            <span class="pill">San Francisco, CA</span>
            <span class="pill">500+ connections</span>
          </div>
          <button class="connect-btn">Connect</button>
        </div>
      </aside>

      <!-- Main column -->
      <main class="main-col">
        <section class="headline">
          <h1>About</h1>
          <p>Passionate about building delightful web experiences.</p>
        </section>

        <!-- Composer -->
        <section class="composer">
          <img src="https://images.unsplash.com/photo-1545996124-ff6094b1f1b0?q=80&w=800&auto=format&fit=crop"
            alt="avatar">
          <div class="input">
            <textarea id="newPostText" placeholder="Start a post"></textarea>
            <input type="text" id="newPostImage" placeholder="Optional image URL"
              style="margin-top:8px;width:100%;padding:8px;border-radius:6px;border:1px solid #e6eefc;">
            <div class="controls">
              <button class="btn" id="postBtn">Post</button>
            </div>
          </div>
        </section>

        <!-- Feed -->
        <section class="feed" id="feed"></section>
      </main>

      <!-- Right column -->
      <aside class="right-col">
        <div class="card trending">
          <h3>Trending</h3>
          <div class="hashtag"><strong>#Tech</strong><span class="small">• 18.4k followers</span></div>
          <div class="hashtag"><strong>#WebDevelopment</strong><span class="small">• 9.2k followers</span></div>
        </div>
      </aside>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import {
      getFirestore, collection, addDoc, getDocs, query, orderBy, limit,
      updateDoc, doc, increment, arrayUnion, serverTimestamp
    } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyD9ebL8xEeGjHOHxBsUtRY1IL65qm30zD4",
      authDomain: "social-f6c78.firebaseapp.com",
      projectId: "social-f6c78",
      storageBucket: "social-f6c78.appspot.com",
      messagingSenderId: "959340204769",
      appId: "1:959340204769:web:0e049a80321ea701a15da0",
      measurementId: "G-GCWJMNGPGN"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Fetch posts
    async function fetchLinkedInPosts() {
      const q = query(collection(db, 'linkedin'), orderBy('createdAt', 'desc'), limit(10));
      const querySnapshot = await getDocs(q);
      const posts = [];
      querySnapshot.forEach(doc => posts.push({ id: doc.id, ...doc.data() }));
      return posts;
    }

    // Render posts
    function renderLinkedInPosts(posts) {
      const feed = document.getElementById('feed');
      feed.innerHTML = "";
      posts.forEach(post => {
        const postEl = createLinkedInPostElement(post);
        feed.appendChild(postEl);
      });
    }

    // Create post element
    function createLinkedInPostElement(post) {
      const div = document.createElement('div');
      div.className = 'post-item-container';
      div.dataset.postId = post.id;

      div.innerHTML = `
        <div class="post">
          <div class="post-header">
            <img src="${post.userAvatar}" alt="">
            <div class="post-meta">
              <div class="who">${post.userDisplayName || "Sweta Kadam"}</div>
              <div class="when">${post.createdAt?.toDate ? post.createdAt.toDate().toLocaleString() : ""}</div>
            </div>
          </div>
          <div class="post-body">${post.caption || ""}</div>
          ${post.imageUrl ? `<div class="post-media"><img src="${post.imageUrl}" alt=""></div>` : ""}
          <div class="post-actions">
            <button onclick="toggleLike(this)">👍 Like</button>
            <button onclick="toggleComments(this)">💬 Comment</button>
            <button>↗️ Share</button>
          </div>
          <div class="likes-count">${post.likes || 0} likes</div>
          <div class="comment-section" style="display:none">
            ${(post.comments || []).map(c => `<div><b>${c.username}:</b> ${c.text}</div>`).join("")}
            <input type="text" placeholder="Add a comment..." onkeypress="handleComment(event,this)">
          </div>
        </div>
      `;
      return div;
    }

    // Add post
    document.getElementById('postBtn').addEventListener('click', async () => {
      const caption = document.getElementById('newPostText').value.trim();
      const imageUrl = document.getElementById('newPostImage').value.trim();

      if (!caption && !imageUrl) {
        alert("Please enter text or image.");
        return;
      }

      await addDoc(collection(db, "linkedin"), {
        platform: "linkedin",
        username: "swetakadam",
        userDisplayName: "Sweta Kadam",
        userAvatar: "https://ui-avatars.com/api/?name=Sweta+Kadam&background=0a66c2&color=fff",
        caption,
        imageUrl,
        likes: 0,
        comments: [],
        createdAt: serverTimestamp(),
        updatedAt: serverTimestamp()
      });

      document.getElementById('newPostText').value = "";
      document.getElementById('newPostImage').value = "";

      const posts = await fetchLinkedInPosts();
      renderLinkedInPosts(posts);
    });

    // Likes
    window.toggleLike = async (btn) => {
      const container = btn.closest('.post-item-container');
      const postId = container.dataset.postId;
      const countEl = container.querySelector('.likes-count');
      let current = parseInt(countEl.textContent);
      current++;
      countEl.textContent = current + " likes";
      await updateDoc(doc(db, "linkedin", postId), { likes: increment(1), updatedAt: serverTimestamp() });
    };

    // Comments
    window.toggleComments = (btn) => {
      const section = btn.closest('.post').querySelector('.comment-section');
      section.style.display = section.style.display === "none" ? "block" : "none";
    };

    window.handleComment = async (e, input) => {
      if (e.key === "Enter" && input.value.trim() !== "") {
        const container = input.closest('.post-item-container');
        const postId = container.dataset.postId;
        const comment = { username: "swetakadam", text: input.value.trim(), timestamp: new Date() };
        input.insertAdjacentHTML("beforebegin", `<div><b>${comment.username}:</b> ${comment.text}</div>`);
        input.value = "";
        await updateDoc(doc(db, "linkedin", postId), { comments: arrayUnion(comment), updatedAt: serverTimestamp() });
      }
    };

    // Init
    window.addEventListener('DOMContentLoaded', async () => {
      const posts = await fetchLinkedInPosts();
      renderLinkedInPosts(posts);
    });
  </script>
</body>

</html>